# JNUacademic
  这是一个突发奇想的项目，为了能够做到快速便捷地登陆学校的教务系统并选课。在这个过程中也希望能够学习到C# Winform编程的技巧，以及HTTP的消息收发机制。

---
### 进度

**实现了模拟进入[教务系统](http://jwxt.jnu.edu.cn/)，获取验证码，以及刷新验证码的功能。（2017/2/14）**
  
  >HTML表单提交时，会提交所有的输入框，以及点击的按钮。这个系统中所有网页都存在隐藏的输入框，会作为表单一并上传，猜测目的是为了对用户的行为做校验，防止机器登陆。
  
**实现了登陆后查询排课列表的功能，加入表单作为查询项目，在查询结果中加入跳转按钮。（2017/2/23）**
  
  >虽然页面中存在js解析，但行为可以直接用C#模拟。“学院”和“专业”两个选择框是有连接跳转的，需要一并实现，但原网页没有使用Ajax，可以认为效率较低。在用正则表达式匹配时遇到很多原本没注意到的问题，例如.只能匹配非换行符，若要表示所有字符，应该用[\s\S]。cod和csd两个cookie是通过js动态添加的，这种行为可以直接用C#实现，无须在解释网页时使用动态解析，类似的还有左右两个箭头，其作为post参数时提交的只是点击图片的位置，完全可以随机生成。不得不说VS自带的Windows Form GUI控件实在是太难用了。
  
**实现了查询我的选课的内容，以及本地保存密码的功能。预留了实现选课功能的窗口。（2017/2/26）**

  >在第二个窗口里面可以查询自己的已选课程，但在选课阶段这个界面还会变化，到时候再重新改。本地保存密码一般是在文件夹中新建文件保存，为保证安全性，将密码通过对称加密后再保存起来。

**实现了退课和选课功能，并保证只在选课期间该功能有效。优化了部分代码。（2017/3/2）**

  >对于退课选课功能，需要能够判断当前是否为选课时间，这里使用返回文本的特征文字做判断。非选课期内，需要隐藏退课按钮和选课功能。选课功能的实现和退课相似，查询部分和查询排课相似，因此没有什么技术难点。然而在解析html的部分是用正则表达式会有效率低下的不足，下次做类似项目时可以考虑用DOM树解析。下一步需要考虑的功能是实现查询结果的过滤。

**把字体加进了项目文件夹，保证在不同机器上都能够显示文字。（2017/3/2 晚）**
  >项目完结，撒花ヾ(o◕∀◕)ﾉ~
